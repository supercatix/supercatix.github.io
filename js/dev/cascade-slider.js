(function(n){n.fn.cascadeSlider=function(t){function f(n){r.find(".now").removeClass("now");r.find(".next").removeClass("next");r.find(".prev").removeClass("prev");n==u-1&&i.eq(0).addClass("next");n==0&&i.eq(u-1).addClass("prev");i.each(function(t){t==n&&i.eq(t).addClass("now");t==n+1&&i.eq(t).addClass("next");t==n-1&&i.eq(t).addClass("prev")})}var r=this,o=t.itemClass||"cascade-slider_item",s=t.arrowClass||"cascade-slider_arrow",i=r.find("."+o),h=r.find("."+s),u=i.length,e;f(0);h.on("click",function(){var e=n(this).data("action"),t=i.index(r.find(".now"));e=="next"?t==u-1?f(0):f(t+1):e=="prev"&&(t==0?f(u-1):f(t-1));n(".cascade-slider_dot").removeClass("cur")});for(e=0;e<u;e++)n(".cascade-slider_item").each(function(t){n(this).attr("data-slide-number",[t])});n(".cascade-slider_dot").bind("click",function(){var i,t;n(".cascade-slider_dot").removeClass("cur");n(this).addClass("cur");i=n(this).index();n(".cascade-slider_item").removeClass("now prev next");t=n(".cascade-slider_slides").find("[data-slide-number="+i+"]");t.prev().addClass("prev");t.addClass("now");t.next().addClass("next");t.next().length==0&&n(".cascade-slider_item:first-child").addClass("next");t.prev().length==0&&n(".cascade-slider_item:last-child").addClass("prev")})}})(jQuery)