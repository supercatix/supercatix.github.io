"use strict";function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}!function(n,t){var f,i=t.document,e=n(i.getElementsByTagName("html")[0]),a=(n(i),(/iPad|iPhone|iPod/.test(navigator.userAgent)||!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))&&!t.MSStream),v="ontouchstart"in t||navigator.maxTouchPoints||t.DocumentTouch&&i instanceof DocumentTouch,s=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},r=function(n){return n.stopPropagation()},h=function(n){return function(t){t.preventDefault();t.stopPropagation();"function"==typeof n&&n()}},c=function(n,t,i){var u=i.children(),r=u.length,f=-1<t?Math.max(0,Math.min(t-1,r)):Math.max(0,Math.min(r+t+1,r));0===f?i.prepend(n):u.eq(f-1).after(n)},o=function(n){return-1!==["left","right"].indexOf(n)?"x":"y"},u=(f=function(n){var r=["Webkit","Moz","Ms","O"],u=(i.body||i.documentElement).style,f=n.charAt(0).toUpperCase()+n.slice(1),t;if(void 0!==u[n])return n;for(t=0;t<r.length;t++)if(void 0!==u[r[t]+f])return r[t]+f;return!1}("transform"),function(n,t,i){var r,u;f?0===t?n.css(f,""):"x"===o(i)?(r="left"===i?t:-t,n.css(f,r?"translate3d(".concat(r,"px,0,0)"):"")):(u="top"===i?t:-t,n.css(f,u?"translate3d(0,".concat(u,"px,0)"):"")):n.css(i,t)}),y=function(n,t,i){console.warn("%cHC Off-canvas Nav:%c "+i+"%c '"+n+"'%c is now deprecated and will be removed. Use%c '"+t+"'%c instead.","color: #fa253b","color: default","color: #5595c6","color: default","color: #5595c6","color: default")},l=0;n.fn.extend({hcOffcanvasNav:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},f,p;if(!this.length)return this;f=this;p=n(i.body);b.side&&(y("side","position","option"),b.position=b.side);var t=n.extend({},{maxWidth:1024,pushContent:!1,position:"left",levelOpen:"overlap",levelSpacing:40,levelTitles:!1,navTitle:null,navClass:"",disableBody:!0,closeOnClick:!0,customToggle:null,insertClose:!0,insertBack:!0,labelClose:"Закрыть",labelBack:"Назад"},b),k=[],w="nav-open",d=function(n){var i,r,t;if(!k.length)return!1;for(i=!1,"string"==typeof n&&(n=[n]),r=n.length,t=0;t<r;t++)-1!==k.indexOf(n[t])&&(i=!0);return i};return this.each(function(){function hi(){var i=n(this),r=Number(i.attr("data-level")),f=Number(i.attr("data-index"));i.prop("checked")?function(i,r){var f=n("#".concat(y,"-").concat(i,"-").concat(r)),e=f.val(),s=f.parent("li"),h=s.closest(".nav-wrapper"),c;(h.addClass("sub-level-open"),s.addClass("level-open"),-1===ht.indexOf(e)&&ht.push(e),"overlap"===t.levelOpen&&(h.on("click",function(){return lt(i,r)}),u(g,i*t.levelSpacing,t.position),nt))&&(c="x"===o(t.position)?ot:st,u(nt,c+i*t.levelSpacing,t.position))}(r,f):lt(r,f)}function ei(){if(wt=!0,it.css("visibility","visible").addClass(w),et.addClass("toggle-open"),"expand"===t.levelOpen&&bt&&clearTimeout(bt),t.disableBody&&(ft=e.scrollTop()||p.scrollTop(),i.documentElement.scrollHeight>i.documentElement.clientHeight&&e.addClass("hc-nav-yscroll"),p.addClass("hc-nav-open"),ft&&p.css("top",-ft)),nt){var r="x"===o(t.position)?ot:st;u(nt,r,t.position)}setTimeout(function(){f.trigger("open",n.extend({},t))},at+1)}function ct(){wt=!1;nt&&u(nt,0);it.removeClass(w);g.removeAttr("style");et.removeClass("toggle-open");"expand"===t.levelOpen&&-1!==["top","bottom"].indexOf(t.position)?lt(0):!1!==t.levelOpen&&"none"!==t.levelOpen&&(bt=setTimeout(function(){lt(0)},"expand"===t.levelOpen?at:0));t.disableBody&&(p.removeClass("hc-nav-open"),e.removeClass("hc-nav-yscroll"),ft&&(p.css("top","").scrollTop(ft),e.scrollTop(ft),ft=0));setTimeout(function(){it.css("visibility","");f.trigger("close.$",n.extend({},t));f.trigger("close.once",n.extend({},t)).off("close.once")},at+1)}function oi(n){n.preventDefault();n.stopPropagation();wt?ct():ei()}function lt(n,t){for(var r,i=n;i<=Object.keys(rt).length;i++)if(i==n&&void 0!==t)gt(n,t,!0);else for(r=0;r<rt[i];r++)gt(i,r,i==n)}var vt=n(this),ni,ti,ut,tt,yt,et,y,b,gt;if(vt.find("ul").addBack("ul").length){y="hc-nav-".concat(++l);b=(ni="hc-offcanvas-".concat(l,"-style"),ti=n('<style id="'.concat(ni,'">')).appendTo(n("head")),ut={},tt={},yt=function(n){return";"!==n.substr(-1)&&(n+=";"!==n.substr(-1)?";":""),n},{reset:function(){ut={};tt={}},add:function(n,t,i){n=n.trim();t=t.trim();i?(i=i.trim(),tt[i]=tt[i]||{},tt[i][n]=yt(t)):ut[n]=yt(t)},remove:function(n,t){n=n.trim();t?(t=t.trim(),void 0!==tt[t][n]&&delete tt[t][n]):void 0!==ut[n]&&delete ut[n]},insert:function(){var n="",t,i,r;for(t in tt){for(i in n+="@media screen and (".concat(t,") {\n"),tt[t])n+="".concat(i," { ").concat(tt[t][i]," }\n");n+="}\n"}for(r in ut)n+="".concat(r," { ").concat(ut[r]," }\n");ti.html(n)}});vt.addClass("hc-nav ".concat(y));var pt,at,ii,it=n("<nav>").on("click",r),g=n('<div class="nav-container">').appendTo(it),nt=null,ri={},wt=!1,ft=0,ot=0,st=0,bt=null,rt={},ht=[];t.customToggle?et=n(t.customToggle).addClass("hc-nav-trigger ".concat(y)).on("click",oi):(et=n('<a class="hc-nav-trigger '.concat(y,'"><span><\/span><\/a>')).on("click",oi),vt.after(et));var ui=function(){g.css("transition","none");ot=g.outerWidth();st=g.outerHeight();b.add(".hc-offcanvas-nav.".concat(y,".nav-position-left .nav-container"),"transform: translate3d(-".concat(ot,"px, 0, 0)"));b.add(".hc-offcanvas-nav.".concat(y,".nav-position-right .nav-container"),"transform: translate3d(".concat(ot,"px, 0, 0)"));b.add(".hc-offcanvas-nav.".concat(y,".nav-position-top .nav-container"),"transform: translate3d(0, -".concat(st,"px, 0)"));b.add(".hc-offcanvas-nav.".concat(y,".nav-position-bottom .nav-container"),"transform: translate3d(0, ".concat(st,"px, 0)"));b.insert();g.css("transition","");si()},si=function(){var n;pt=g.css("transition-property").split(",")[0];n=g.css("transition-duration").split(",")[0];at=parseFloat(n)*(/\ds$/.test(n)?1e3:1);ii=g.css("transition-timing-function").split(",")[0];t.pushContent&&nt&&pt&&b.add(function n(t){return"string"==typeof t?t:t.attr("id")?"#"+t.attr("id"):t.attr("class")?t.prop("tagName").toLowerCase()+"."+t.attr("class").replace(/\s+/g,"."):n(t.parent())+" "+t.prop("tagName").toLowerCase()}(t.pushContent),"transition: ".concat(pt," ").concat(at,"ms ").concat(ii));b.insert()},kt=function(i){var u=et.css("display"),r=!!t.maxWidth&&"max-width: ".concat(t.maxWidth-1,"px"),f,e;d("maxWidth")&&b.reset();b.add(".hc-offcanvas-nav.".concat(y),"display: block",r);b.add(".hc-nav-trigger.".concat(y),"display: ".concat(u&&"none"!==u?u:"block"),r);b.add(".hc-nav.".concat(y),"display: none",r);b.add(".hc-offcanvas-nav.".concat(y,".nav-levels-overlap.nav-position-left li.level-open > .nav-wrapper"),"transform: translate3d(-".concat(t.levelSpacing,"px,0,0)"),r);b.add(".hc-offcanvas-nav.".concat(y,".nav-levels-overlap.nav-position-right li.level-open > .nav-wrapper"),"transform: translate3d(".concat(t.levelSpacing,"px,0,0)"),r);b.add(".hc-offcanvas-nav.".concat(y,".nav-levels-overlap.nav-position-top li.level-open > .nav-wrapper"),"transform: translate3d(0,-".concat(t.levelSpacing,"px,0)"),r);b.add(".hc-offcanvas-nav.".concat(y,".nav-levels-overlap.nav-position-bottom li.level-open > .nav-wrapper"),"transform: translate3d(0,".concat(t.levelSpacing,"px,0)"),r);b.insert();(!i||i&&d("pushContent"))&&("string"==typeof t.pushContent?(nt=n(t.pushContent)).length||(nt=null):nt=t.pushContent instanceof jQuery?t.pushContent:null);g.css("transition","none");f=it.hasClass(w);e=["hc-offcanvas-nav",t.navClass||"",y,t.navClass||"","nav-levels-"+t.levelOpen||"none","nav-position-"+t.position,t.disableBody?"disable-body":"",a?"is-ios":"",v?"touch-device":"",f?w:""].join(" ");it.off("click").attr("class","").addClass(e);t.disableBody&&it.on("click",ct);i?ui():setTimeout(ui,1)},fi=function(){var t;ri=function i(t){var r=[];return t.each(function(){var t=n(this),u={classes:t.attr("class"),items:[]};t.children("li").each(function(){var t=n(this),e=t.children().filter(function(){var t=n(this);return t.is(":not(ul)")&&!t.find("ul").length}).add(t.contents().filter(function(){return 3===this.nodeType&&this.nodeValue.trim()})),f=t.find("ul"),r=f.first().add(f.first().siblings("ul"));r.length&&!t.data("hc-uniqid")&&t.data("hc-uniqid",Math.random().toString(36).substr(2)+"-"+Math.random().toString(36).substr(2));u.items.push({uniqid:t.data("hc-uniqid"),classes:t.attr("class"),$content:e,subnav:r.length?i(r):[]})});r.push(u)}),r}((t=vt.find("ul").addBack("ul")).first().add(t.first().siblings("ul")))},dt=function(i){i&&(g.empty(),rt={}),function u(i,f,e,o,l){var k=n('<div class="nav-wrapper nav-wrapper-'.concat(e,'">')).appendTo(f).on("click",r),a=n('<div class="nav-content">').appendTo(k),b,v,p,w;(o&&a.prepend("<h2>".concat(o,"<\/h2>")),n.each(i,function(i,f){var o=n("<ul>").addClass(f.classes).appendTo(a);n.each(f.items,function(i,f){var v=f.$content,l=v.find("a").addBack("a"),s=l.length?l.clone(!0,!0).addClass("nav-item"):n('<span class="nav-item">').append(v.clone(!0,!0)).on("click",r),c,p;if(l.length&&s.on("click",function(n){n.stopPropagation();l[0].click()}),"#"===s.attr("href")&&s.on("click",function(n){n.preventDefault()}),t.closeOnClick&&(!1===t.levelOpen||"none"===t.levelOpen?s.filter("a").filter('[data-nav-close!="false"]').on("click",ct):s.filter("a").filter('[data-nav-close!="false"]').filter(function(){var t=n(this);return!f.subnav.length||t.attr("href")&&"#"!==t.attr("href").charAt(0)}).on("click",ct)),c=n("<li>").addClass(f.classes).append(s),(o.append(c),t.levelSpacing&&("expand"===t.levelOpen||!1===t.levelOpen||"none"===t.levelOpen))&&(p=t.levelSpacing*e,p&&o.css("text-indent","".concat(p,"px"))),f.subnav.length){var h=e+1,w=f.uniqid,b="";if(rt[h]||(rt[h]=0),c.addClass("nav-parent"),!1!==t.levelOpen&&"none"!==t.levelOpen){var a=rt[h],nt=n('<span class="nav-next">').appendTo(s),d=n('<label for="'.concat(y,"-").concat(h,"-").concat(a,'">')).on("click",r),g=n('<input type="checkbox" id="'.concat(y,"-").concat(h,"-").concat(a,'">')).attr("data-level",h).attr("data-index",a).val(w).on("click",r).on("change",hi);-1!==ht.indexOf(w)&&(k.addClass("sub-level-open").on("click",function(){return lt(h,a)}),c.addClass("level-open"),g.prop("checked",!0));c.prepend(g);b=!0===t.levelTitles?v.text().trim():"";s.attr("href")&&"#"!==s.attr("href").charAt(0)?nt.append(d):s.prepend(d.on("click",function(){n(this).parent().trigger("click")}))}rt[h]++;u(f.subnav,c,h,b,rt[h]-1)}})}),e&&void 0!==l&&!1!==t.insertBack&&"overlap"===t.levelOpen)&&(b=a.children("ul"),v=n('<li class="nav-back"><a href="#">'.concat(t.labelBack||"","<span><\/span><\/a><\/li>")),v.children("a").on("click",h(function(){return lt(e,l)})),!0===t.insertBack?b.first().prepend(v):s(t.insertBack)&&c(v,t.insertBack,b));0===e&&!1!==t.insertClose&&(p=a.children("ul"),w=n('<li class="nav-close"><a href="#">'.concat(t.labelClose||"","<span><\/span><\/a><\/li>")),w.children("a").on("click",h(ct)),!0===t.insertClose?p.first().prepend(w):s(t.insertClose)&&c(w,t.insertClose,p.first().add(p.first().siblings("ul"))))}(ri,g,0,t.navTitle)};kt();fi();dt();p.append(it);gt=function(i,f,e){var s=n("#".concat(y,"-").concat(i,"-").concat(f)),h=s.val(),c=s.parent("li"),l=c.closest(".nav-wrapper"),a;(s.prop("checked",!1),l.removeClass("sub-level-open"),c.removeClass("level-open"),-1!==ht.indexOf(h)&&ht.splice(ht.indexOf(h),1),e&&"overlap"===t.levelOpen&&(l.off("click").on("click",r),u(g,(i-1)*t.levelSpacing,t.position),nt))&&(a="x"===o(t.position)?ot:st,u(nt,a+(i-1)*t.levelSpacing,t.position))};f.settings=function(n){return n?t[n]:Object.assign({},t)};f.isOpen=function(){return it.hasClass(w)};f.open=ei;f.close=ct;f.update=function(i,r){if(k=[],"object"===_typeof(i)){for(var u in i)t[u]!==i[u]&&k.push(u);t=n.extend({},t,i);kt(!0);dt(!0)}(!0===i||r)&&(kt(!0),fi(),dt(!0))}}else console.error("%c! HC Offcanvas Nav:%c Menu must contain <ul> element.","color: #fa253b","color: default")})}})}(jQuery,"undefined"!=typeof window?window:this)